<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Script</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="github.css" />
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js"
  type="text/javascript"></script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Script</h1>
</header>
<h1 id="procedural-generation-and-simulation">Procedural Generation and
Simulation</h1>
<p>Prof.Â Dr.Â Lena Gieseke | l.gieseke@filmuniversitaet.de | Film
University Babelsberg KONRAD WOLF</p>
<h1 id="chapter-03---beauty-in-maths">Chapter 03 - Beauty in Maths</h1>
<ul>
<li><a href="#procedural-generation-and-simulation">Procedural
Generation and Simulation</a></li>
<li><a href="#chapter-03---beauty-in-maths">Chapter 03 - Beauty in
Maths</a>
<ul>
<li><a href="#topics">Topics</a></li>
<li><a href="#learning-objectives">Learning Objectives</a>
<ul>
<li><a href="#eulers-identity">Eulerâ€™s Identity</a></li>
</ul></li>
<li><a href="#numbers">Numbers</a>
<ul>
<li><a href="#the-golden-ratio">The Golden Ratio</a></li>
<li><a href="#famous-irrational-numbers">Famous Irrational
Numbers</a></li>
<li><a href="#pi">Pi</a></li>
<li><a href="#fibonacci-sequence">Fibonacci Sequence</a></li>
</ul></li>
<li><a href="#spirals">Spirals</a>
<ul>
<li><a href="#polar-coordinates">Polar Coordinates</a></li>
<li><a href="#archimedes-spiral">Archimedes Spiral</a></li>
<li><a href="#fermat-spiral">Fermat Spiral</a></li>
<li><a href="#logarithmic-spiral">Logarithmic Spiral</a></li>
<li><a href="#hyperbolic-spiral">Hyperbolic Spiral</a></li>
<li><a href="#lituus-spiral">Lituus Spiral</a></li>
<li><a href="#cornu-spiral">Cornu Spiral</a></li>
</ul></li>
<li><a href="#golden-spiral">Golden Spiral</a></li>
<li><a href="#curves">Curves</a>
<ul>
<li><a href="#the-rose-curve">The Rose Curve</a>
<ul>
<li><a href="#parameter-r">Parameter r</a></li>
<li><a href="#parameter-theta">Parameter Theta</a></li>
<li><a href="#parameter-k">Parameter k</a></li>
<li><a href="#number-of-loops">Number of Loops</a></li>
<li><a href="#parameter-offset-c">Parameter Offset c</a></li>
</ul></li>
</ul></li>
<li><a href="#next">Next</a></li>
<li><a href="#references">References</a></li>
</ul></li>
</ul>
<h2 id="topics">Topics</h2>
<ul>
<li>Beautiful Numbers</li>
<li>Beautiful Curves</li>
</ul>
<p><span class="math inline">\(\pi:\)</span><br />
<img src="img/03/pi_01.png" alt="pi_01" /><br />
<a
href="http://www.lacim.uqam.ca/~plouffe/distributions%20modulo%201/imagepages/image10.html">[Lacim]</a></p>
<h2 id="learning-objectives">Learning Objectives</h2>
<ul>
<li>Learn about visual properties of some numbers and curves</li>
<li>Get an intuition on how to use formulas in regard to their design
space and their implementation</li>
<li>Learn how to grow leaves like a plant</li>
</ul>
<h3 id="eulers-identity">Eulerâ€™s Identity</h3>
<p>Mathematicians assign to formulas aesthetic qualities. Letâ€™s have a
look into the formula that is considered to be the most beautiful as of
today:</p>
<p><span class="math inline">\(e^{i\pi} + 1 = 0\)</span></p>
<p>where</p>
<ul>
<li><span class="math inline">\(e\)</span> is Eulerâ€™s number, the base
of natural logarithms,</li>
<li><span class="math inline">\(i\)</span> is the imaginary unit, which
by definition satisfies <span class="math inline">\(i^{2} = âˆ’1\)</span>,
and</li>
<li><span class="math inline">\(\pi\)</span> is pi, the ratio of the
circumference of a circle to its diameter.</li>
</ul>
<p><a href="https://en.wikipedia.org/wiki/Euler%27s_identity">Eulerâ€™s
identity</a> is named after the Swiss mathematician <a
href="https://en.wikipedia.org/wiki/Leonhard_Euler">Leonhard Euler</a>.
It is considered to be an exemplar of deep mathematical beauty, if not
the most beautiful formula currently known as already mentioned. Its
beauty arises from its simplicity while expressing highly complex
behavior and its profound connection between the most fundamental
numbers in mathematics.</p>
<p>Three of the basic arithmetic operations occur exactly once each:
addition, multiplication, and exponentiation. The identity also links
five fundamental mathematical constants. [2] A mathematical constant is
a number whose value is fixed by an unambiguous definition, often
referred to by a symbol or by mathematiciansâ€™ names to facilitate using
it across multiple mathematical problems. [3] Constants arise in many
areas of mathematics, with constants such as <span
class="math inline">\(e\)</span> and <span
class="math inline">\(\pi\)</span> occurring in such diverse contexts as
geometry, number theory, and calculus.</p>
<p>The five fundamental mathematical constants in Eulerâ€™s identity
are</p>
<ul>
<li>The number <span class="math inline">\(0\)</span>, the additive
identity.</li>
<li>The number <span class="math inline">\(1\)</span>, the
multiplicative identity.</li>
<li>The number <span class="math inline">\(\pi\)</span> (<span
class="math inline">\(\pi = 3.141...\)</span>).</li>
<li>The number <span class="math inline">\(e\)</span> (<span
class="math inline">\(e = 2.718...\)</span>), which occurs widely in
mathematical analysis.</li>
<li>The number <span class="math inline">\(i\)</span>, the imaginary
unit of the complex numbers.</li>
</ul>
<p>Furthermore, the equation is given in the form of an expression set
equal to zero, which is common practice in several areas of
mathematics.</p>
<p>Stanford University mathematics professor Keith Devlin has said,</p>
<blockquote>
<p>â€¦like a Shakespearean sonnet that captures the very essence of love,
or a painting that brings out the beauty of the human form that is far
more than just skin deep, Eulerâ€™s equation reaches down into the very
depths of existence. [4]</p>
</blockquote>
<p>And Paul Nahin, a professor emeritus at the University of New
Hampshire, who has written a book dedicated to Eulerâ€™s formula and its
applications in Fourier analysis, describes Eulerâ€™s identity as
being</p>
<blockquote>
<p>â€¦of exquisite beauty. [4]</p>
</blockquote>
<p><a
href="https://en.wikipedia.org/wiki/Euler&#39;s_identity">[1]</a></p>
<p>This inherent beauty <em>on a mathematical level</em> is <em>not</em>
our topic (did I scare you with Eulerâ€™s identity for a second here? ðŸ˜Ž).
We are more interested in the <em>visual representations and
characteristics</em> of numbers and equations and with that potential
visual beauty.</p>
<p>There are studies that shows a connection between inherent
mathematical beauty - what mathematicians consider beautiful maths and
generally accepted visual beauty. But we would need a much deeper
understanding of maths to go that route.</p>
<h2 id="numbers">Numbers</h2>
<h3 id="the-golden-ratio">The Golden Ratio</h3>
<p>A ratio describes one quantity in relationship to another one,
e.g.Â how long the width of an image is in relationship to its
height.</p>
<p>We have a <em>golden</em> ratio if the ratio of two quantitiesÂ is the
same as the ratio of theirÂ sumÂ to the larger of the two quantities.</p>
<p><span class="math display">\[\frac{a+b}{a} = \frac{a}{b}\]</span></p>
<p>Line segments in the golden ratio:</p>
<p><img src="img/03/goldenratio_01.png" alt="goldenratio_01" /><br />
<a href="https://en.wikipedia.org/wiki/Golden_ratio">[wiki]</a></p>
<p>A golden rectangle:</p>
<p><img src="img/03/goldenratio_02.png" alt="goldenratio_02" /><br />
<a href="https://en.wikipedia.org/wiki/Golden_ratio">[wiki]</a></p>
<p>This ratio is defined as <span
class="math inline">\(\varphi\)</span>:</p>
<ol type="1">
<li><span class="math display">\[\frac{a+b}{a} = \frac{a}{b}
\stackrel{\mathrm{def}}{=} \varphi\]</span></li>
</ol>
<p>One method for finding the value of <span
class="math inline">\(\varphi\)</span> is to start with the left
fraction.</p>
<ol start="2" type="1">
<li><span class="math display">\[\frac{a+b}{a}=\frac{a}{a}+\frac{b}{a} =
1+\frac{b}{a}\]</span></li>
</ol>
<p>We can derive from (1) <span class="math inline">\(\frac{a}{b} =
\varphi\)</span> that <span class="math inline">\(\frac{b}{a} =
\frac{1}{\varphi}\)</span> and put that into (2)</p>
<ol start="3" type="1">
<li><span
class="math display">\[1+\frac{b}{a}=1+\frac{1}{\varphi}\]</span></li>
</ol>
<p>Setting that equal to the right side of (1), we get</p>
<p><span class="math inline">\(1+\frac{1}{\varphi}=\varphi\)</span>.</p>
<p>One of the special properties of the Golden Ratio is that <em>it can
be defined in terms of itself</em>, as shown above. This leads to a
<em>continued fraction</em>, which just canâ€™t be expressed as a regular
fraction not matter what.</p>
<p><span class="math inline">\(1+{\cfrac {1}{1+{\cfrac {1}{1+{\cfrac
{1}{1+{\cfrac {1}{1+\ddots }}}}}}}}\)</span></p>
<p>A number which can not be constructed from ratios (orÂ fractions)
ofÂ integers is an <em>irrational number</em>. Their decimal
expansionsÂ neither terminate nor become periodic.</p>
<figure>
<img src="img/03/irrational_01.png" alt="irrational_01" />
<figcaption aria-hidden="true">irrational_01</figcaption>
</figure>
<p><a href="https://www.mathsisfun.com/irrational-numbers.html">[Maths
is Fun]</a></p>
<p>Now, letâ€™s solve <span
class="math inline">\(1+\frac{1}{\varphi}=\varphi\)</span> for <span
class="math inline">\(\varphi\)</span>.</p>
<p>Multiplying by <span class="math inline">\(\varphi\)</span> gives</p>
<p><span class="math inline">\(\varphi +1 = \varphi ^{2}\)</span></p>
<p>which can be rearranged to</p>
<p><span class="math inline">\(\varphi^{2}-\varphi -1=0\)</span>.</p>
<p>Using the <a
href="https://en.wikipedia.org/wiki/Quadratic_formula">quadratic
formula</a>, two solutions are obtained:</p>
<p><span class="math inline">\(\frac{1+{\sqrt{5}}}{2} =
1.618\,033\,988\,7\dots\)</span></p>
<p>and</p>
<p><span class="math inline">\(\frac{1-{\sqrt{5}}}{2} =
-0.618\,033\,988\,7\dots\)</span></p>
<p>Because <span class="math inline">\(\varphi\)</span> is the ratio
between positive quantities, <span
class="math inline">\(\varphi\)</span> is necessarily positive:</p>
<p><span class="math inline">\(\frac{1+{\sqrt{5}}}{2} =
1.618\,033\,988\,7\dots\)</span></p>
<p>In summary:</p>
<table>
<colgroup>
<col style="width: 20%" />
<col style="width: 79%" />
</colgroup>
<thead>
<tr class="header">
<th></th>
<th style="text-align: center;"><span
class="math inline">\(\varphi\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Decimal</td>
<td style="text-align: center;">1.6180339887498948482â€¦</td>
</tr>
<tr class="even">
<td>Continued fraction</td>
<td style="text-align: center;"><span class="math inline">\(1+{\cfrac
{1}{1+{\cfrac {1}{1+{\cfrac {1}{1+{\cfrac {1}{1+\ddots
}}}}}}}}\)</span></td>
</tr>
<tr class="odd">
<td>Algebraic form</td>
<td style="text-align: center;"><span
class="math inline">\(\frac{1+{\sqrt{5}}}{2}\)</span></td>
</tr>
</tbody>
</table>
<p><a href="https://en.wikipedia.org/wiki/Golden_ratio">[13]</a></p>
<p>Next to the genuine maths behind the ratio itself and its fascinating
mathematical properties, some believe that the Golden Ratio makes the
most pleasing and beautiful shapes:</p>
<p><img src="img/03/goldenratio_03.png" /></p>
<p>Whether this is a <em>beautiful</em> ratio or not is up to personal
taste. Be careful though to believe the widespread understanding that
the golden ratio is the <em>natural blueprint</em> for beauty. There is
very little <em>scientific</em> evidence for that. You can find ratios
similar to the golden ratio in the world, such as in human faces, the
Parthenon, etc. but the emphasis is on <em>similar</em> and also there
are various other prominent ratios out there. With the golden ratio we
might have a case of <em>you find what you are looking for</em>. <a
href="https://www.independent.co.uk/news/science/mathematicians-dispute-claims-that-the-golden-ratio-is-a-natural-blueprint-for-beauty-10204354.html">[14]</a>
<a
href="https://www.businessinsider.com/the-golden-ratio-fibonacci-numbers-mathematics-zeising-beauty-2015-9?r=DE&amp;IR=T">[15]</a></p>
<p>What we indeed find in regard to <span
class="math inline">\(\varphi\)</span> prominently in nature is an
approximation of the <em>golden angle</em>.</p>
<p>Imagine you are a plant and you can spread leaves all around your
stem. Now, being a plant, needing Photosynthese and such, you want all
of your leaves to soak up as much sun (and rain) as possible. So when
you sprout a new leaf, you donâ€™t want it to block your other leaves.</p>
<p><img src="img/03/goldenangle_09.png" alt="goldenangle_09" /><br />
<a
href="http://gofiguremath.org/natures-favorite-math/the-golden-ratio/the-golden-angle/">[gofiguremath]</a></p>
<p>What you want is to turn for every new leaf a certain degree as the
following (the numbers indicate the order in which the leaf grew).</p>
<figure>
<img src="img/03/leaf_01.png" alt="goldenangle_01" />
<figcaption aria-hidden="true">goldenangle_01</figcaption>
</figure>
<figure>
<img src="img/03/leaf_02.png" alt="goldenangle_02" />
<figcaption aria-hidden="true">goldenangle_02</figcaption>
</figure>
<p>Being a plant and all, you already know what you have to do. Each
turn you make to grow a new leaf or place a new seed you have to turn
with the <em>golden angle</em>.</p>
<figure>
<img src="img/03/leaf_03.png" alt="goldenangle_03" />
<figcaption aria-hidden="true">goldenangle_03</figcaption>
</figure>
<p>And we keep on doing soâ€¦</p>
<figure>
<img src="img/03/leaf_04.png" alt="goldenangle_04" />
<figcaption aria-hidden="true">goldenangle_04</figcaption>
</figure>
<figure>
<img src="img/03/leaf_05.png" alt="goldenangle_05" />
<figcaption aria-hidden="true">goldenangle_05</figcaption>
</figure>
<figure>
<img src="img/03/leaf_06.png" alt="goldenangle_06" />
<figcaption aria-hidden="true">goldenangle_06</figcaption>
</figure>
<p><a
href="https://gofiguremath.org/natures-favorite-math/the-golden-ratio/the-golden-angle/">[gofiguremath]</a></p>
<p>The same problem applies if you imagine to be a sunflower and you
want to pack as many seeds as possible, while all of them getting as
much sun as possible.</p>
<p><img src="img/03/goldenangle_07.png" alt="goldenangle_07" /><br />
<a
href="https://wsimag.com/science-and-technology/34023-the-fascination-with-the-golden-ratio">[wsimag]</a></p>
<p>And now, back to being a CTech student, now you know what makes that
angle <em>golden</em>.</p>
<p>In geometry, the golden angle is the smaller of the two angles
created by sectioning the circumference of a circle according to the
golden ratio; that is, into two arcs such that the ratio of the length
of the smaller arc to the length of the larger arc is the same as the
ratio of the length of the larger arc to the full circumference of the
circle: <a
href="https://en.wikipedia.org/wiki/Golden_angle">[23]</a></p>
<p><img src="img/03/goldenangle_05.png" alt="goldenangle_05" /><br />
<a
href="http://gofiguremath.org/natures-favorite-math/the-golden-ratio/the-golden-angle/">[gofiguremath]</a></p>
<p>The best solution to <em>how far to turn from the last leaf</em> in
degree is therefore <span class="math inline">\(~137.5Â°\)</span>, and
that is what all kinds of plants do:</p>
<p><img src="img/03/goldenangle_03.png" alt="goldenangle_03" /><br />
<img src="img/03/goldenangle_04.png" alt="goldenangle_04" /><br />
<a
href="https://leerzelfbeleggen.com/wp-content/uploads/2018/08/Fibonacci-trading-leren-traden-met-de-geheime-formule-voorbeelden.jpeg">[LeerZelfBeleggen]</a></p>
<p><img src="img/03/goldenangle_06.png" alt="goldenangle_06" /><br />
<a
href="https://fineartamerica.com/featured/1-golden-angle-thomas-festerscience-photo-library.html">[fineartamerica]</a></p>
<p>Such an arrangement of leaves, which applies the golden angle, is
also called <em>phyllotaxis</em> (<em>leaf arrangement</em> in Greek) in
botany. Helmut Vogel specified an easy generation model for phyllotaxis
patterns in</p>
<p>Vogel, H (1979). <strong>A better way to construct the sunflower
head</strong>.Â Mathematical BiosciencesÂ 44Â (44): 179â€“189.</p>
<p>Again in <a href="#polar-coordinates">polar coordinates</a>, it comes
down to</p>
<p><span class="math inline">\(r = c\sqrt{n}\)</span></p>
<p><span class="math inline">\(\theta = n \times
137.508^\circ\)</span></p>
<p>with</p>
<ul>
<li>angle <span class="math inline">\(\theta\)</span>,</li>
<li>radius <span class="math inline">\(r\)</span>,</li>
<li>index number of the current element <span
class="math inline">\(n\)</span>, and</li>
<li>a constant scaling factor <span
class="math inline">\(c\)</span>.</li>
</ul>
<p>Implemented in p5:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> n <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> c <span class="op">=</span> <span class="dv">20</span><span class="op">;</span> </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> color_ramp <span class="op">=</span> <span class="dv">100</span><span class="op">;</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">setup</span>()</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">createCanvas</span>(<span class="dv">1024</span> <span class="op">,</span> <span class="dv">1024</span>)<span class="op">;</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">angleMode</span>(DEGREES)<span class="op">;</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    color_ramp <span class="op">=</span> width <span class="op">*</span> <span class="fl">0.4</span><span class="op">;</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">colorMode</span>(HSB<span class="op">,</span> color_ramp<span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">1</span>)<span class="op">;</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">background</span>(<span class="dv">1</span>)<span class="op">;</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">noStroke</span>()<span class="op">;</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">draw</span>()</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Place drawing in the middle</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">translate</span>(width <span class="op">*</span> <span class="fl">0.5</span><span class="op">,</span> height <span class="op">*</span> <span class="fl">0.5</span>)<span class="op">;</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Vogel&#39;s algorithm (in polar coordinates)</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>    <span class="kw">let</span> r <span class="op">=</span> c <span class="op">*</span> <span class="fu">sqrt</span>(n)<span class="op">;</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>    <span class="kw">let</span> theta <span class="op">=</span> n <span class="op">*</span> <span class="fl">137.5</span><span class="op">;</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Polar to Cartesian coordinates</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>    <span class="kw">let</span> x <span class="op">=</span> r <span class="op">*</span> <span class="fu">cos</span>(theta)<span class="op">;</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>    <span class="kw">let</span> y <span class="op">=</span> r <span class="op">*</span> <span class="fu">sin</span>(theta)<span class="op">;</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">fill</span>(n <span class="op">%</span> color_ramp<span class="op">,</span> <span class="dv">1</span> <span class="op">,</span> <span class="dv">1</span>)<span class="op">;</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ellipse</span>(x <span class="op">,</span> y <span class="op">,</span> c <span class="op">*</span> <span class="fl">1.25</span> <span class="op">,</span> c <span class="op">*</span> <span class="fl">1.25</span>)<span class="op">;</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>    n<span class="op">++</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p><img src="img/03/phyllotaxis.gif" /></p>
<p>But the fascination doesnâ€™t stop here. If we change the angle from
the golden angle to an arbitrary angle between 0..360 we get vastly
different designs for only very small changes. The following code maps
the angle to turn to the mouse position in x. Try the code for
yourself!</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> ELEMENT_COUNT <span class="op">=</span> <span class="dv">1000</span><span class="op">;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> c <span class="op">=</span> <span class="dv">20</span><span class="op">;</span> </span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">setup</span>()</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">createCanvas</span>(<span class="dv">1024</span> <span class="op">,</span> <span class="dv">1024</span>)<span class="op">;</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">angleMode</span>(DEGREES)<span class="op">;</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">colorMode</span>(HSB<span class="op">,</span> ELEMENT_COUNT<span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">1</span>)<span class="op">;</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">background</span>(<span class="dv">1</span>)<span class="op">;</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">noStroke</span>()<span class="op">;</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">draw</span>()</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">background</span>(<span class="dv">1</span>)<span class="op">;</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">translate</span>(width <span class="op">*</span> <span class="fl">0.5</span><span class="op">,</span> height <span class="op">*</span> <span class="fl">0.5</span>)<span class="op">;</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>    <span class="kw">let</span> ratio <span class="op">=</span> <span class="fu">map</span>(mouseX<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> width<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">1</span>)<span class="op">;</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">text</span>(ratio<span class="op">,</span> <span class="op">-</span>width <span class="op">*</span> <span class="fl">0.49</span><span class="op">,</span> <span class="op">-</span>height <span class="op">*</span> <span class="fl">0.48</span>)<span class="op">;</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (<span class="kw">let</span> n<span class="op">=</span><span class="dv">0</span><span class="op">;</span> n <span class="op">&lt;</span> ELEMENT_COUNT<span class="op">;</span> n<span class="op">++</span>) </span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>      <span class="kw">let</span> r <span class="op">=</span> c <span class="op">*</span> <span class="fu">sqrt</span>(n)<span class="op">;</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>      <span class="kw">let</span> theta <span class="op">=</span> n <span class="op">*</span> ratio <span class="op">*</span> <span class="dv">360</span><span class="op">;</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>      <span class="kw">let</span> x <span class="op">=</span> r <span class="op">*</span> <span class="fu">cos</span>(theta)<span class="op">;</span></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>      <span class="kw">let</span> y <span class="op">=</span> r <span class="op">*</span> <span class="fu">sin</span>(theta)<span class="op">;</span></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>      <span class="fu">fill</span>(n<span class="op">,</span> <span class="dv">1</span> <span class="op">,</span> <span class="dv">1</span>)<span class="op">;</span></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ellipse</span>(x <span class="op">,</span> y <span class="op">,</span> c <span class="op">*</span> <span class="fl">1.25</span> <span class="op">,</span> c <span class="op">*</span> <span class="fl">1.25</span>)<span class="op">;</span></span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Fractions for the <code>ratio</code> value lead to spikes, while
getting closer to an irrational number produces dense distributions:</p>
<p><img src="img/03/phyllotaxis_interactive.gif" /></p>
<p>If you would like to understand better which values lead to which
design (and how to be a flowerâ€¦), I highly recommend this video the
Numberphileâ€™s video <a
href="https://www.youtube.com/watch?v=sj8Sg8qnjOg">The Golden Ratio (why
it is so irrational)</a>.</p>
<p>What to do with this? Well, now it is up to being creative. Just
connecting the element by lines already give interesting designs:</p>
<p><img src="img/03/phyllotaxis_01.png" /> <img
src="img/03/phyllotaxis_02.png" /> <img
src="img/03/phyllotaxis_03.png" /><br />
<a
href="https://www.codeproject.com/Articles/1221341/The-Vogel-Spiral-Phenomenon">[codeproject]</a></p>
<p><img src="img/03/phyllotaxis_04.png" /><br />
<a href="https://dribbble.com/shots/5873691-Arranging-Dots">[Chisato den
Engelsen]</a></p>
<p><img src="img/03/phyllotaxis_05.png" alt="phyllotaxis_05" /><br />
<a href="https://editor.p5js.org/willgeary/sketches/0koqjcxEk">[p5
sketch by willgeary]</a></p>
<p>Of course forumlas such as the phyllotaxis one above have been used
over and over,â€¦ and over again. We have seen these visuals. That doesnâ€™t
mean that there arenâ€™t plenty of options left to work with these
fascinating structures. What I am trying to say is that by just simply
plotting the base examples, you will not get a creativity medal. You
will have to really think about a visualization / application to make
them interesting anew.</p>
<p><span class="math inline">\(\varphi\)</span> is not the only
irrational number, as you might know.</p>
<h3 id="famous-irrational-numbers">Famous Irrational Numbers</h3>
<p><span class="math inline">\(\varphi =
1.61803398874989484820...\)</span></p>
<ul>
<li>The most irrational of them all</li>
</ul>
<p><span
class="math inline">\(\piÂ =Â 3.1415926535897932384626433832795..\)</span></p>
<ul>
<li>The rockstar of the irrational numbers</li>
<li>The popular approximation ofÂ <span
class="math inline">\(\frac{22}{7}Â = 3.1428571428571\)</span> is close
butÂ not accurate</li>
<li>Over a quadrillion decimal places have been calculated and <em>still
there is no pattern!!!</em></li>
</ul>
<p><span class="math inline">\(e =
2.7182818284590452353602874713527\)</span></p>
<ul>
<li>Eulerâ€™s Number</li>
<li>Base of the Natural Logarithms</li>
</ul>
<p>Many square roots, cube roots, etc. are also irrational numbers.</p>
<ul>
<li><span class="math inline">\(\sqrt{3} =
1.7320508075688772935274463415059...\)</span></li>
<li><span class="math inline">\(\sqrt{99} =
9.9498743710661995473447982100121...\)</span></li>
<li>But e.g.Â <span class="math inline">\(\sqrt{4} = 2\)</span>
(rational), and <span class="math inline">\(\sqrt{9} = 3\)</span>
(rational), soÂ not allÂ roots are irrational.</li>
</ul>
<p><a
href="https://www.mathsisfun.com/irrational-numbers.html">[16]</a></p>
<h3 id="pi">Pi</h3>
<p><span class="math inline">\(\pi\)</span> is a real crowd-pleaser. Why
is that?</p>
<p><span class="math inline">\(\pi = 3.14159 26535 89793 23846 26433
83279 50288 41971 ...\)</span></p>
<p><span class="math inline">\(\pi\)</span> appears in formulae for
areas and volumes of geometrical shapes based on circles, such as
ellipses, spheres, cones, and tori. Below are some of the more common
formulae that involve <span class="math inline">\(\pi\)</span>.[18]</p>
<p><img src="img/03/pi_02.png" alt="pi_02" /><br />
<a
href="https://en.wikipedia.org/wiki/Pi#/media/File:Pi_eq_C_over_d.svg">[wiki]</a></p>
<ul>
<li>The circumference of a circle with radius r is <span
class="math inline">\(2\pi r\)</span>.</li>
<li>The area of a circle with radius r is <span
class="math inline">\(\pi r^2\)</span>.</li>
<li>The volume of a sphere with radius r is <span
class="math inline">\(\frac{4}{3}\pi r^3\)</span></li>
<li>The surface area of a sphere with radius r is <span
class="math inline">\(4\pi r^2\)</span>.</li>
</ul>
<p>The trigonometric functions rely on angles, and mathematicians
generally use radians as units of measurement. <span
class="math inline">\(\pi\)</span> plays an important role in angles
measured in radians, which are defined so that a complete circle spans
an angle of <span class="math inline">\(2\pi\)</span> radians. The angle
measure of <span class="math inline">\(180^\circ\)</span> is equal to
<span class="math inline">\(\pi\)</span> radians, and <span
class="math inline">\(1^\circ = \frac{\pi}{180}\)</span>
radians.[19]</p>
<p>Common trigonometric functions have periods that are multiples of
<span class="math inline">\(\pi\)</span>; for example, sine and cosine
have period <span class="math inline">\(2\pi\)</span>:</p>
<p><img src="img/03/pi_03.png" alt="pi_03" /><br />
<a
href="https://en.wikipedia.org/wiki/Pi#/media/File:Sine_cosine_one_period.svg">[wiki]</a></p>
<p><span class="math inline">\(\pi\)</span> appears in many, many other
formulas in all areas of mathematics and physics. Its omnipresence and
usefulness plays a big role for <span
class="math inline">\(\pi\)</span>â€™s popularity. But its inherent
characteristic are also truly captivating.</p>
<p><a href="https://en.wikipedia.org/wiki/Pi">[17]</a></p>
<p>The digits of <span class="math inline">\(\pi\)</span> are uniformly
randomly distributed, meaning that its digits 0 through 9 appear equally
often, as do pairs of digits, trios of digits, and so forth. If you
donâ€™t believe it you can count digits in its first <a
href="https://introcs.cs.princeton.edu/java/data/pi-10million.txt">10
million decimal places</a>.</p>
<p><img src="img/03/pi_04.png" alt="pi_04" /><br />
<a
href="https://blogs.sas.com/content/iml/2015/03/12/digits-of-pi.html#prettyPhoto">[sas
blogs]</a></p>
<p>The digits of <span class="math inline">\(\pi\)</span> pass every
test for randomness, yet <span class="math inline">\(\pi\)</span> is a
precise mathematical value that describes the relationship between the
circumference of a circle and its diameter. This dichotomy between
<em>very random</em> and <em>very structured</em> blows my mind. <a
href="https://blogs.sas.com/content/iml/2015/03/12/digits-of-pi.html#prettyPhoto">[20]</a></p>
<p>In honor of <span class="math inline">\(\pi\)</span> day, which is on
March, 14th according to the north american date formating of 03.14.,
several artists visually represent <span
class="math inline">\(\pi\)</span> each year anew in a creative and
beautiful manner.</p>
<p><img src="img/03/pi_05.png" alt="pi_05" /><br />
<a
href="https://fineartamerica.com/featured/flow-of-life-flow-of-pi-cristian-ilies-vasile.html">[fineartamerica]</a></p>
<p>Here, the digits of <span class="math inline">\(\pi\)</span> are
represented as a path traced by links between successive digits. Each
digit is assigned a segment around the circle and a link between segment
<span class="math inline">\(i\)</span> and <span
class="math inline">\(j\)</span> corresponds to the appearance of <span
class="math inline">\(ij\)</span> in <span
class="math inline">\(\pi\)</span>. For example, the <span
class="math inline">\(14\)</span> in <span
class="math inline">\(3.14...\)</span> is drawn as a link between
segment <span class="math inline">\(1\)</span> and segment <span
class="math inline">\(4\)</span>. <a
href="http://mkweb.bcgsc.ca/pi/art/method.mhtml">[21]</a></p>
<p><img src="img/03/pi_06.png" alt="pi_06" /><br />
<a href="http://mkweb.bcgsc.ca/pi/art/method.mhtml">[mkweb]</a></p>
<p>As more digits are added to the path, the image becomes a weaving
mandala.</p>
<p>Here the same idea with a different mapping of the colors:</p>
<p><img src="img/03/pi_01.png" alt="pi_01" /><br />
<a
href="http://www.lacim.uqam.ca/~plouffe/distributions%20modulo%201/imagepages/image10.html">[lacim]</a></p>
<p>The digits of <span class="math inline">\(\pi\)</span> are, as we
already know, randomly distributed. Art based on its digits therefore
has a quality that is influenced by this random distribution. To provide
a reference of what such a random pattern looks like, below are 16
random numbers represented in the same way. Theyâ€™re all different, yet
strangely the same. <a
href="http://mkweb.bcgsc.ca/pi/art/method.mhtml">[21]</a></p>
<p><img src="img/03/pi_07.png" alt="pi_07" /><br />
<a href="http://mkweb.bcgsc.ca/pi/art/method.mhtml">[mkweb]</a></p>
<p><a href="http://plouffe.fr/Simon%20Plouffe.htm">Simon Plouffe</a>
offers <a href="http://plouffe.fr/distributions%20modulo%201/">a whole
collection</a> of similarly visualized equations.</p>
<p>The following visualization of <span
class="math inline">\(\pi\)</span> is generated by running a simulation
of gravity in which digits of <span class="math inline">\(\pi\)</span>
are each assigned a mass and allowed to collide and orbit each
other.</p>
<p><img src="img/03/pi_08.png" alt="pi_08" /><img src="img/03/pi_09.png"
alt="pi_09" /><br />
<a href="http://mkweb.bcgsc.ca/pi/art/method.mhtml">[mkweb]</a></p>
<p>Visualizing the <a
href="http://mkweb.bcgsc.ca/pi/pi.approximation.day/">accuracy of 10,000
rational approximations</a> of <span
class="math inline">\(\pi\)</span>:</p>
<p><img src="img/03/pi_10.png" alt="pi_10" /><br />
<a href="http://mkweb.bcgsc.ca/pi/art/method.mhtml">[mkweb]</a></p>
<p>Or 351 digits of <span class="math inline">\(\pi\)</span> <a
href="http://mkweb.bcgsc.ca/pi/piday2019/">in 54 different alphabets</a>
(left) and spelling out the digits in a variety of languages and
alphabets. The artists leaves it up to us to work out the rule for the
red highlights.</p>
<p><img src="img/03/pi_11.png" alt="pi_11" /><img src="img/03/pi_12.png"
alt="pi_12" /><br />
<a href="http://mkweb.bcgsc.ca/pi/art/method.mhtml">[mkweb]</a></p>
<p>As you can see certain numbers alone come with a vast range of
interesting properties and it is up us to use them in a visually
interesting and creative manner.</p>
<p><em>Do you recognize the following sequence of numbers? How is the
sequence constructed?</em></p>
<p><span class="math inline">\(0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89,
144, ...\)</span></p>
<p>Yes, you are right, it is theâ€¦</p>
<h3 id="fibonacci-sequence">Fibonacci Sequence</h3>
<p>In mathematics, the Fibonacci numbers, commonly denoted <span
class="math inline">\(F_n\)</span>, form a sequence, called the
Fibonacci sequence, such that each number is the sum of the two
preceding ones, starting from <span class="math inline">\(0\)</span> and
<span class="math inline">\(1\)</span>. That is, [6]</p>
<p><span class="math inline">\(F_{0}=0, F_{1}=1,\)</span></p>
<p>and</p>
<p><span class="math inline">\(F_{n}=F_{n-1}+F_{n-2}\)</span>,</p>
<p>for <span class="math inline">\(n &gt; 1\)</span>.</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> <span class="fu">nthFibonacci</span><span class="op">(</span><span class="dt">int</span> n<span class="op">)</span> </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>n <span class="op">&lt;=</span> <span class="dv">1</span><span class="op">)</span> </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> n<span class="op">;</span> </span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="fu">nthFibonacci</span><span class="op">(</span>n<span class="op">-</span><span class="dv">1</span><span class="op">)</span> <span class="op">+</span> <span class="fu">nthFibonacci</span><span class="op">(</span>n<span class="op">-</span><span class="dv">2</span><span class="op">);</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>Knowledge of the Fibonacci sequence was expressed from the Indian
mathematician <a href="https://en.wikipedia.org/wiki/Pingala">Acharya
Pingala</a> in connection with a study of poetic metres and verse in
Sanskrit as early c.Â 450 BCâ€“200 BC. Outside India, the Fibonacci
sequence first appears in the book <a
href="https://en.wikipedia.org/wiki/Liber_Abaci">Liber Abaci</a> (1202)
by <a href="https://en.wikipedia.org/wiki/Fibonacci">Fibonacci</a> using
it to calculate the growth of rabbit populations. [7][8][9][10]</p>
<p>There is a special relationship between the Golden Ratio
andÂ Fibonacci Numbers in that the ratio of two successive Fibonacci
numbers is close to the golden ratio:</p>
<p><img src="img/03/goldenratio_04.png" alt="goldenratio_04" /><br />
<a
href="https://hydrogen2oxygen.net/en/2012/06/21/the-fibonacci-sequence-is-the-mathematical-first-cousin-of-the-golden-ratio/">[hydrogen2oxygen]</a></p>
<p>Geometrically the Fibonacci Sequence can be expressed as follows.</p>
<p><img src="img/03/fibonacci_01.png" alt="fibonacci_01" /><br />
<a
href="https://commons.wikimedia.org/wiki/File:34*21-FibonacciBlocks.png">[wiki]</a></p>
<p>The above segmentation of an rectangle approximates the <em>golden
spiral</em>.</p>
<p><img src="img/03/fibonacci_02.png" alt="fibonacci_02" /><br />
<a
href="https://commons.wikimedia.org/wiki/File:FibonacciSpiral.svg">[wiki]</a></p>
<p>This is easily constructed by placing a quarter of a circle in each
segment</p>
<p><img src="img/03/fibonacci_03.png" alt="fibonacci_03" /><br />
<a
href="https://commons.wikimedia.org/wiki/File:FibonacciSpiral.svg">[wiki]</a></p>
<p><a href="https://en.wikipedia.org/wiki/Fibonacci_number">[5]</a></p>
<p>But wait. What is a <em>spiral</em> and why is it <em>golden</em>?
Donâ€™t we need <span class="math inline">\(\varphi\)</span> for anything
to be golden?</p>
<h2 id="spirals">Spirals</h2>
<p>In mathematics, a spiral is a curve which starts from a point and
when moving farther away, it revolves around the startpoint. The
phyllotaxis code we have seen above is actually also creating
spirals.</p>
<p>Spirals are usually represented in polar coordinates <span
class="math inline">\((r, \theta)\)</span>.</p>
<h3 id="polar-coordinates">Polar Coordinates</h3>
<p>Quick reminder, what is the Polar Coordinate System? In mathematics,
the polar coordinate system is a two-dimensional coordinate system in
which each point on a plane is determined by a distance from a reference
point and an angle from a reference direction.</p>
<p><img src="img/03/polar_01.png" alt="polar_01" /><br />
<a
href="https://de.wikipedia.org/wiki/Datei:Ebene_polarkoordinaten.svg">[wiki]</a></p>
<p>(here with <span class="math inline">\(\phi\)</span> as name for the
angular coordinate, often called the polar angle)</p>
<p>Hence,</p>
<p><span class="math inline">\(x = r \cos{\phi}\)</span><br />
<span class="math inline">\(y = r \sin{\phi}\)</span></p>
<p>and</p>
<p><span class="math inline">\(r = \sqrt{{x^2 + y^2}}\)</span><br />
<span class="math inline">\(\phi = \tan^{-1}{\left (\frac{y}{x}\right
)}\)</span></p>
<p>Polar coordinates are most appropriate in any context where the
phenomenon being considered is inherently tied to <em>direction</em> and
<em>length</em> from a <em>center point</em>, such as with spirals.
Please make sure that you know what polar coordinates are and how to use
them. We are going to need them all the time.</p>
<p><img src="img/03/polar_02.png" alt="polar_02" /><br />
<a
href="https://theedge.com.hk/decomplexifying-complex-numbers/">[theedge]</a></p>
<p><a
href="https://en.wikipedia.org/wiki/Polar_coordinate_system">[11]</a></p>
<p>In polar coordinates different spiral designs can be compactly
expressed with</p>
<ul>
<li><span class="math inline">\(r\)</span> as the distance from the
origin,</li>
<li><span class="math inline">\(\theta\)</span> as the angle (in
radians) from the horizontal axis, and</li>
<li><span class="math inline">\(a\)</span> and <span
class="math inline">\(b\)</span> as constants that allow for shaping the
different designs.</li>
</ul>
<h3 id="archimedes-spiral">Archimedes Spiral</h3>
<p><span class="math inline">\(r = a \theta\)</span></p>
<p><img src="img/03/spiral_01.gif" alt="spiral_01" /><br />
<a
href="https://mathworld.wolfram.com/ArchimedesSpiral.html">[Wolfram]</a></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> a <span class="op">=</span> <span class="dv">2</span><span class="op">;</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> r <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> theta <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">setup</span>()</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">createCanvas</span>(<span class="dv">512</span><span class="op">,</span> <span class="dv">512</span>)<span class="op">;</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">fill</span>(<span class="dv">100</span>)<span class="op">;</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">background</span>(<span class="dv">255</span>)<span class="op">;</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">noStroke</span>()<span class="op">;</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>} </span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">draw</span>()</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">translate</span>(width <span class="op">*</span> <span class="fl">0.5</span><span class="op">,</span> height  <span class="op">*</span> <span class="fl">0.5</span>)<span class="op">;</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>    r <span class="op">=</span> a<span class="op">*</span>theta<span class="op">;</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>    <span class="kw">let</span> x <span class="op">=</span> r <span class="op">*</span> <span class="fu">cos</span>(theta)<span class="op">;</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>    <span class="kw">let</span> y <span class="op">=</span> r <span class="op">*</span> <span class="fu">sin</span>(theta)<span class="op">;</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ellipse</span>(x<span class="op">,</span> y<span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">2</span>)<span class="op">;</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>    theta <span class="op">+=</span> <span class="fl">0.1</span><span class="op">;</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h3 id="fermat-spiral">Fermat Spiral</h3>
<p><span class="math inline">\(r^2 = a^2 \theta\)</span></p>
<p><img src="img/03/spiral_02.gif" alt="spiral_02" /><br />
<a
href="https://mathworld.wolfram.com/FermatsSpiral.html">[Wolfram]</a></p>
<h3 id="logarithmic-spiral">Logarithmic Spiral</h3>
<p><span class="math inline">\(r = ae^{b\theta}\)</span> <img
src="img/03/spiral_03.gif" alt="spiral_03" /><br />
<a
href="https://mathworld.wolfram.com/LogarithmicSpiral.html">[Wolfram]</a></p>
<h3 id="hyperbolic-spiral">Hyperbolic Spiral</h3>
<p><span class="math inline">\(r = \frac{a}{\theta}\)</span> <img
src="img/03/spiral_04.gif" alt="spiral_04" /><br />
<a
href="https://mathworld.wolfram.com/HyperbolicSpiral.html">[Wolfram]</a></p>
<h3 id="lituus-spiral">Lituus Spiral</h3>
<p><span class="math inline">\(r^2 = \frac{a^2}{\theta}\)</span> <img
src="img/03/spiral_05.gif" alt="spiral_05" /><br />
<a href="https://mathworld.wolfram.com/Lituus.html">[Wolfram]</a></p>
<h3 id="cornu-spiral">Cornu Spiral</h3>
<p>This spiral is also known as <a
href="https://en.wikipedia.org/wiki/Euler_spiral">Eulerâ€™s spiral</a> and
its curvature changes linearly with its curve length. Mathematically it
is quite complex. If interested, ask <a
href="https://mathworld.wolfram.com/CornuSpiral.html">Wolfram</a>.</p>
<p><img src="img/03/spiral_06.gif" alt="spiral_06" /><br />
<a
href="https://mathworld.wolfram.com/CornuSpiral.html">[Wolfram]</a></p>
<h2 id="golden-spiral">Golden Spiral</h2>
<p>The <a
href="https://en.wikipedia.org/wiki/Golden_spiral#Mathematics">formal
description</a> of the golden spiral, which above, we have approximated
geometrically, is based on a logarithmic spiral with a special value of
the growth factor <span class="math inline">\(b\)</span>. Guess what the
special value is! Remember we want to be golden againâ€¦</p>
<p><span class="math inline">\(r = ae^{b\theta}\)</span></p>
<p><img src="img/03/spiral_07.gif" alt="spiral_07" /><br />
<a
href="https://mathworld.wolfram.com/GoldenSpiral.html">[Wolfram]</a></p>
<p>The special value for the growth factor <span
class="math inline">\(b\)</span> is based on <span
class="math inline">\(\varphi\)</span>, the golden ratio. The golden
spiral gets wider (or further from its origin) by a factor of <span
class="math inline">\(\varphi\)</span> for every quarter turn it
makes.</p>
<p><img src="img/03/spiral_08.png" alt="spiral_08" /><br />
<a
href="https://commons.wikimedia.org/wiki/File:FakeRealLogSpiral.svg">[wiki]</a></p>
<p>Golden spirals are self-similar. The shape is infinitely repeated
when magnified.</p>
<p><img src="img/03/spiral_09.gif" alt="spiral_09" /><br />
<a
href="https://commons.wikimedia.org/wiki/File:GoldenSpiralLogarithmic_color_in.gif">[wiki]</a></p>
<p><a href="https://en.wikipedia.org/wiki/Golden_spiral">[12]</a></p>
<h2 id="curves">Curves</h2>
<p>Next to spirals as curve designs, there are several similarly simple
functions that create aesthetically pleasing curves. At first sight, the
Wikipedia and Wolfram pages of these functions can appear a bit
intimidating. But I would like to show you that it is actually not that
hard to get a grip on these functions.</p>
<p>Letâ€™s have a look into the rose curve.</p>
<p><img src="img/03/rose_01.png" alt="rose_01" /><br />
<a
href="https://en.wikipedia.org/wiki/Rose_(mathematics)">[wiki]</a></p>
<h3 id="the-rose-curve">The Rose Curve</h3>
<p>First, check <a
href="https://en.wikipedia.org/wiki/Rose_(mathematics)">its
wikipedia</a> page. This page is still somewhat simple and
well-arranged. Sometimes these pages overflow with explanations,
different representations, history and proofs, etc.. Fear not! What you
always want to look out for is the <em>coordinates</em> you can plot, be
it polar or cartesian coordinates (we know how to go from one to the
other so it does not really matter what we get).</p>
<p>For the rose curve, the parametric equations are right under
<em>General overview</em> ready for us to use (how convenient!):</p>
<p>The polar equation:</p>
<p><span class="math inline">\(r=\cos(k\theta )\)</span></p>
<p>The Cartesian parametric equations of the form</p>
<p><span class="math inline">\(x=\cos(k\theta )\cos(\theta
)\)</span><br />
<span class="math inline">\(y=\cos(k\theta )\sin(\theta )\)</span></p>
<h4 id="parameter-r">Parameter r</h4>
<p>But <em>wait</em>, you will say, <em>where is <span
class="math inline">\(r\)</span></em> you will ask! Well, often times
these formulas assume a radius of 1 and drop the variable altogether. If
you would like to include <span class="math inline">\(r\)</span> as a
scaling factor to your rose implementation, it would look as follows</p>
<p><span class="math inline">\(x=r \cos(k\theta )\cos(\theta
)\)</span><br />
<span class="math inline">\(y=r \cos(k\theta )\sin(\theta )\)</span></p>
<p>So, we have also <span class="math inline">\(\theta\)</span> and
<span class="math inline">\(k\)</span> as parameters here. Letâ€™s try to
understand what they do.</p>
<h4 id="parameter-theta">Parameter Theta</h4>
<p><span class="math inline">\(\theta\)</span> is once again the angular
coordinate or polar angle:</p>
<p><img src="img/03/polar_03.png" alt="polar_03" /><br />
<a
href="https://mathworld.wolfram.com/PolarAngle.html">[wolfram]</a></p>
<p><em>What do we need to do with <span
class="math inline">\(\theta\)</span> in order to draw for example this
version of the rose?</em></p>
<p><img src="img/03/rose_03.png" alt="rose_03" /><br />
<a
href="https://commons.wikimedia.org/wiki/File:7_Petal_rose.svg">[wikimedia]</a></p>
<p>Yes, you are right, in order to draw the whole rose and not only one
point, we need to iterate <span class="math inline">\(\theta\)</span>
over the circumference of a circle, hence <span
class="math inline">\(2\pi\)</span> in radians or <span
class="math inline">\(360^\circ\)</span> in degree. The diligent reader
would have known that by simply reading the wiki text:</p>
<blockquote>
<p>â€¦the entire graph of the rose will be traced out exactly once when
the value of <span class="math inline">\(\theta\)</span> changes from
<span class="math inline">\(0\)</span> to <span
class="math inline">\(2\pi\)</span>.</p>
</blockquote>
<p>Therefore, a code basis for drawing the rose in p5 could look as
follows (feel free to follow along with the code in p5):</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>    <span class="co">// The usual p5 setup code</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ...</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">function</span> <span class="fu">draw</span>()</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">background</span>(<span class="dv">255</span>)<span class="op">;</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Moving whatever we are drawing to the center</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>        <span class="co">// of the canvas to have the center as origin</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>        <span class="fu">translate</span>(width <span class="op">*</span> <span class="fl">0.5</span><span class="op">,</span> height <span class="op">*</span> <span class="fl">0.5</span>)<span class="op">;</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Defining r in reference to the canvas size</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>        <span class="kw">let</span> r <span class="op">=</span> width <span class="op">*</span> <span class="fl">0.4</span><span class="op">;</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>        <span class="fu">beginShape</span>()<span class="op">;</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> (<span class="kw">let</span> theta <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> theta <span class="op">&lt;</span> TWO_PI<span class="op">;</span> theta<span class="op">+=</span> <span class="fl">0.01</span>)</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>        {</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>            <span class="kw">let</span> x <span class="op">=</span> <span class="op">...</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>            <span class="kw">let</span> y <span class="op">=</span> <span class="op">...</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>            <span class="fu">vertex</span>(x<span class="op">,</span> y)<span class="op">;</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>        <span class="fu">endShape</span>(CLOSE)<span class="op">;</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>    }</span></code></pre></div>
<h4 id="parameter-k">Parameter k</h4>
<p>Wiki also gives us some more information about <span
class="math inline">\(k\)</span>.</p>
<p>If k is an integer, the curve will be rose-shaped with</p>
<ul>
<li>2k petals if k is even, and</li>
<li>k petals if k is odd.</li>
</ul>
<p>Nice, we want that controllability for our rose, so letâ€™s add that to
the code and compute the (cartesian) coordinates. All code snippets here
are optimized for readability and understanding - some things could be
implemented more efficiently, e.g.Â computing <code>cos(k*theta)</code>
twiceâ€¦</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ...</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">function</span> <span class="fu">draw</span>()</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">background</span>(<span class="dv">255</span>)<span class="op">;</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">translate</span>(width <span class="op">*</span> <span class="fl">0.5</span><span class="op">,</span> height <span class="op">*</span> <span class="fl">0.5</span>)<span class="op">;</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>        <span class="kw">let</span> r <span class="op">=</span> width <span class="op">*</span> <span class="fl">0.4</span><span class="op">;</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>        <span class="co">//2k petals if k is even, and</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>        <span class="co">//k petals if k is odd</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>        <span class="kw">let</span> k <span class="op">=</span> <span class="dv">6</span><span class="op">;</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>        <span class="fu">beginShape</span>()<span class="op">;</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> (<span class="kw">let</span> theta <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> theta <span class="op">&lt;</span> TWO_PI<span class="op">;</span> theta<span class="op">+=</span> <span class="fl">0.01</span>)</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>        {</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>            <span class="kw">let</span> x <span class="op">=</span> r <span class="op">*</span> (<span class="fu">cos</span>(k<span class="op">*</span>theta) <span class="op">*</span> <span class="fu">cos</span>(theta))<span class="op">;</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>            <span class="kw">let</span> y <span class="op">=</span> r <span class="op">*</span> (<span class="fu">cos</span>(k<span class="op">*</span>theta) <span class="op">*</span> <span class="fu">sin</span>(theta))<span class="op">;</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>            <span class="fu">vertex</span>(x<span class="op">,</span> y)<span class="op">;</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>        <span class="fu">endShape</span>(CLOSE)<span class="op">;</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>    }</span></code></pre></div>
<p><img src="img/03/rose_04.png" /></p>
<p>What shall I say? So easyâ€¦ ðŸ‘©ðŸ¼â€ðŸŽ¨</p>
<p>Letâ€™s map k to the with position of the mouse to explore the design
space:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> k <span class="op">=</span> <span class="fu">floor</span>(<span class="fu">map</span>(mouseX<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> width<span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">20</span>))<span class="op">;</span></span></code></pre></div>
<p>But <em>wait</em>, you will say. <em>Why donâ€™t we see all the designs
from the wiki preview image</em>?</p>
<p><img src="img/03/rose_02.png" alt="rose_02" /><br />
<a
href="https://commons.wikimedia.org/wiki/File:7_Petal_rose.svg">[wiki]</a></p>
<p>Because, dear student, look at the parameterization. For the image
above, not <span class="math inline">\(k\)</span> is used but <span
class="math inline">\(k = \frac{n}{d}\)</span>.</p>
<p>Letâ€™s add that</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">function</span> <span class="fu">draw</span>()</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">background</span>(<span class="dv">255</span>)<span class="op">;</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">translate</span>(width <span class="op">*</span> <span class="fl">0.5</span><span class="op">,</span> height <span class="op">*</span> <span class="fl">0.5</span>)<span class="op">;</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>        <span class="kw">let</span> r <span class="op">=</span> width <span class="op">*</span> <span class="fl">0.4</span><span class="op">;</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>        <span class="kw">let</span> n <span class="op">=</span> <span class="fu">floor</span>(<span class="fu">map</span>(mouseX<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> width<span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">10</span>))<span class="op">;</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>        <span class="kw">let</span> d <span class="op">=</span> <span class="fu">floor</span>(<span class="fu">map</span>(mouseY<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> height<span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">10</span>))<span class="op">;</span>  </span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>        <span class="kw">let</span> k <span class="op">=</span> n <span class="op">/</span> d<span class="op">;</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>        <span class="fu">beginShape</span>()<span class="op">;</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> (<span class="kw">let</span> theta <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> theta <span class="op">&lt;</span> TWO_PI<span class="op">;</span> theta<span class="op">+=</span> <span class="fl">0.01</span>)</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>        {</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>            <span class="kw">let</span> x <span class="op">=</span> r <span class="op">*</span> (<span class="fu">cos</span>(k<span class="op">*</span>theta) <span class="op">*</span> <span class="fu">cos</span>(theta))<span class="op">;</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>            <span class="kw">let</span> y <span class="op">=</span> r <span class="op">*</span> (<span class="fu">cos</span>(k<span class="op">*</span>theta) <span class="op">*</span> <span class="fu">sin</span>(theta))<span class="op">;</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>            <span class="fu">vertex</span>(x<span class="op">,</span> y)<span class="op">;</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">endShape</span>(CLOSE)<span class="op">;</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>    }</span></code></pre></div>
<p>Uhhh, what is happening? Why do we see something like this:</p>
<p><img src="img/03/rose_05.png" /></p>
<h4 id="number-of-loops">Number of Loops</h4>
<p>Well, if we skim the wiki page, there is an animation that gives us
an intuition that we need <span class="math inline">\(\theta\)</span> to
go around a circle more than once, meaning we need more <em>loops</em>,
to draw the whole shape.</p>
<p><img src="img/03/rose_06.gif" alt="rose_06" /><br />
<a
href="https://commons.wikimedia.org/wiki/File:Rose_Curve_animation_with_Gears_n4_d5.gif">[wiki]</a></p>
<p>But wiki is not really clear about how many loops we need. Now we
have two options: 1. read the wiki page in detail to gain a better
understanding or 2. find another resource which gives us the infos we
are looking for more directly. As I am lazy, I go for option 2 and my
second place to look at for maths is usually Wolfram.</p>
<p>And, we are successful! <a
href="https://mathworld.wolfram.com/Rose.html">Wolfram</a> says on first
sight something about <em>closing the curve</em>:</p>
<blockquote>
<p>If <span class="math inline">\(n=r/s\)</span> is a rational number,
then the curve closes at a polar angle of <span
class="math inline">\(\theta=\pi s p\)</span>, where <span
class="math inline">\(p=1\)</span> if <span
class="math inline">\(rs\)</span> is odd and <span
class="math inline">\(p=2\)</span> if rs is even.</p>
</blockquote>
<p>Unfortunately, and this happens usually when you use multiple
resources, the parameter are named differently. But, we can easily
translate them by setting n = k, r = n, s = d</p>
<blockquote>
<p>IfÂ k = n / dÂ is aÂ rational number, then the curve closes at a polar
angle of <span class="math inline">\(\theta=\pi d p\)</span>,
whereÂ <span class="math inline">\(p=1\)</span>Â ifÂ <span
class="math inline">\(nd\)</span>Â is odd andÂ <span
class="math inline">\(p = 2\)</span>Â ifÂ <span
class="math inline">\(nd\)</span>Â is even.</p>
</blockquote>
<p>Meaning, we need <span class="math inline">\(\theta=2d\pi\)</span>
loops!</p>
<p>That was easy - now we know without having used our brain too much.
And we will go again the easy route with the code and draw the rose
<span class="math inline">\(\theta=2d\pi\)</span> times, independently
of <span class="math inline">\(k\)</span> being rational or not.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="op">...</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (<span class="kw">let</span> theta <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> theta <span class="op">&lt;</span> TWO_PI <span class="op">*</span> d<span class="op">;</span> theta<span class="op">+=</span> <span class="fl">0.01</span>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    <span class="op">...</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="op">...</span></span></code></pre></div>
<h4 id="parameter-offset-c">Parameter Offset c</h4>
<p>As last thing we could add an offset, which wiki mentions:</p>
<p><span class="math inline">\(r=\cos(k\theta) + c\)</span></p>
<p>Integrating this, could look as follows (but then again, which
parameter to control with the mouse is up to you):</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode js"><code class="sourceCode javascript"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">function</span> <span class="fu">draw</span>()</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">background</span>(<span class="dv">255</span>)<span class="op">;</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">translate</span>(width <span class="op">*</span> <span class="fl">0.5</span><span class="op">,</span> height <span class="op">*</span> <span class="fl">0.5</span>)<span class="op">;</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>        <span class="kw">let</span> r <span class="op">=</span> width <span class="op">*</span> <span class="fl">0.4</span><span class="op">;</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>        <span class="kw">let</span> n <span class="op">=</span> <span class="fu">floor</span>(<span class="fu">map</span>(mouseX<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> width<span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">20</span>))<span class="op">;</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>        <span class="kw">let</span> d <span class="op">=</span> <span class="dv">5</span><span class="op">;</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>        <span class="kw">let</span> k <span class="op">=</span> n <span class="op">/</span> d<span class="op">;</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>        <span class="kw">let</span> c <span class="op">=</span> <span class="fu">floor</span>(<span class="fu">map</span>(mouseY<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> height<span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">200</span>))<span class="op">;</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>        <span class="fu">beginShape</span>()<span class="op">;</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> (<span class="kw">let</span> theta <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> theta <span class="op">&lt;</span> TWO_PI <span class="op">*</span> d<span class="op">;</span> theta<span class="op">+=</span> <span class="fl">0.01</span>)</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>        {</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>            <span class="kw">let</span> radius <span class="op">=</span> r <span class="op">*</span> <span class="fu">cos</span>(theta <span class="op">*</span> k) <span class="op">+</span> c<span class="op">;</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>            <span class="kw">let</span> x <span class="op">=</span> radius <span class="op">*</span> <span class="fu">cos</span>(theta)<span class="op">;</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>            <span class="kw">let</span> y <span class="op">=</span> radius <span class="op">*</span> <span class="fu">sin</span>(theta)<span class="op">;</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>            <span class="fu">vertex</span>(x<span class="op">,</span> y)<span class="op">;</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>        <span class="fu">endShape</span>(CLOSE)<span class="op">;</span></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>    }</span></code></pre></div>
<p>Now, have fun exploring the design space. If you couldnâ€™t follow the
above explanation, feel free to ask <a
href="https://www.youtube.com/watch?v=f5QBExMNB1I">Dan</a>.</p>
<p>E.g. the <a href="https://en.wikipedia.org/wiki/Maurer_rose">maurer
rose</a> and the <a
href="https://mathworld.wolfram.com/StarrRose.html">starr rose</a> are
versions of the basic rose algorithm (even though the starr rose will
take some more figuring outâ€¦)</p>
<p><img src="img/03/rose_07.png" alt="rose_07" /><br />
<a
href="https://mathworld.wolfram.com/MaurerRose.html">[wolfram]</a><br />
<img src="img/03/rose_08.png" alt="rose_08" /><br />
<a
href="https://mathworld.wolfram.com/MaurerRose.html">[wolfram]</a></p>
<p>If you feel adventourus, for example implement the heart curve: <a
href="https://en.wikipedia.org/wiki/Heart_symbol#Parametrisation">wiki</a>,
<a href="https://mathworld.wolfram.com/HeartCurve.html">wolfram</a>, <a
href="https://www.youtube.com/watch?v=oUBAi9xQ2X4">shiffman</a></p>
<p><img src="img/03/heart_01.png" alt="heart_01" /><br />
<a
href="https://mathworld.wolfram.com/HeartCurve.html">[wolfram]</a></p>
<h2 id="next">Next</h2>
<p>Next we are going to have a look into how to design and put together
functions ourselves.</p>
<h2 id="references">References</h2>
<p><a href="https://en.wikipedia.org/wiki/Euler&#39;s_identity">[1] Wiki
- Eulerâ€™s identity</a><br />
[2] Paulos, John Allen (1992), Beyond Numeracy: An Uncommon Dictionary
of Mathematics, Penguin Books.<br />
[3] Dunham, William (1999), Euler: The Master of Us All, Mathematical
Association of America.<br />
[4] Nahin, Paul J. (2006), Dr.Â Eulerâ€™s Fabulous Formula: Cures Many
Mathematical Ills, Princeton University Press.<br />
<a href="https://en.wikipedia.org/wiki/Fibonacci_number">[5] Wiki -
Fibonacci Number</a><br />
<a href="https://en.wikipedia.org/wiki/Fibonacci_number">[6] Lucas,
Ã‰douard (1891), ThÃ©orie des nombres (in French), 1, Paris.</a><br />
[7] Pisano, Leonardo (2002), Fibonacciâ€™s Liber Abaci: A Translation into
Modern English of the Book of Calculation, Sources and Studies in the
History of Mathematics and Physical Sciences, Sigler, Laurence E, trans,
Springer.<br />
<a
href="https://www.math.utah.edu/~beebe/software/java/fibonacci/liber-abaci.html">[8]
Fibonacciâ€™s Liber Abaci (Book of Calculation). The University of Utah.
2009.</a><br />
[9] Hemenway, Priya (2005). Divine Proportion: Phi In Art, Nature, and
Science. New York: Sterling. pp.Â 20â€“21..<br />
<a
href="http://www.maths.surrey.ac.uk/hosted-sites/R.Knott/Fibonacci/fibnat.html#Rabbits">[10]
Knott, Dr.Â Ron (2016). The Fibonacci Numbers and Golden section in
Nature â€“ 1. University of Surrey.</a><br />
<a href="https://en.wikipedia.org/wiki/Polar_coordinate_system">[11]
Wiki - Polar Coordinate System</a><br />
<a href="https://en.wikipedia.org/wiki/Golden_spiral">[12] Wiki - Golden
Spirals</a><br />
<a href="https://en.wikipedia.org/wiki/Golden_ratio">[13] Wiki - Golden
Ratio</a><br />
<a
href="https://www.independent.co.uk/news/science/mathematicians-dispute-claims-that-the-golden-ratio-is-a-natural-blueprint-for-beauty-10204354.html">[14]
Independent - Mathematicians dispute claims that the â€˜golden ratioâ€™ is a
natural blueprint for beauty</a><br />
<a
href="https://www.businessinsider.com/the-golden-ratio-fibonacci-numbers-mathematics-zeising-beauty-2015-9?r=DE&amp;IR=T">[15]
Business Insider - The one formula thatâ€™s supposed to â€˜prove beautyâ€™ is
fundamentally wrong</a><br />
<a href="https://www.mathsisfun.com/irrational-numbers.html">[16] Math
is Fun - Irrational Numbers</a><br />
<a href="https://en.wikipedia.org/wiki/Pi">[17] Wiki - Pi</a><br />
[18] BronshteÄ­n, Ilia; Semendiaev, K.A. (1971). A Guide Book to
Mathematics.<br />
[19] Ayers, Frank (1964). Calculus. McGraw-Hill.<br />
<a
href="https://blogs.sas.com/content/iml/2015/03/12/digits-of-pi.html#prettyPhoto">[20]
Sas Blogs - Analyzing the first 10 million digits of pi</a><br />
<a href="http://mkweb.bcgsc.ca/pi/art/method.mhtml">[21] Martin
Krzywinski - The art of Pi, Phi and e</a><br />
<a href="https://journals.sagepub.com/doi/10.1068/p240937">[22] All That
Glitters: A Review of Psychological Research on the Aesthetics of the
Golden Section</a><br />
<a href="https://en.wikipedia.org/wiki/Golden_angle">[23] Wiki - Golden
Angle</a></p>
<hr />
<p>The End</p>
<p>ðŸŒ» ðŸ¥§ âž°</p>
</body>
</html>
